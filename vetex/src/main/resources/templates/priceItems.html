<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<link rel="stylesheet" type="text/css" th:href="@{/css/styles.css}"/>
<title>Список ТЦП</title>
</head>
<body>

<div th:replace="header :: header"></div>
<br><br>

<a th:href="@{/admin/newItem}">Добавить пункт ТЦП (admin)</a> &nbsp&nbsp | &nbsp&nbsp

<form enctype="multipart/form-data" th:action="@{/admin/csvToDateBase}" th:method="post" style="display:inline;">
<label>Загрузка ТЦП в БД (админ)</label> &nbsp&nbsp
<input type="file" name="file">
<input type="submit" value="Загрузить" >
</form> &nbsp&nbsp | &nbsp&nbsp

<form  th:action="@{/dateBaseToCSV}" th:method="get" style="display:inline;">
<label>Выгрузка ТЦП из БД</label> &nbsp&nbsp
<input type="submit" value="Выгрузить" >
</form>
<br><br>

<form th:action="@{/findByNumber}" th:method="get" style="display:inline;">
<label>Поиск по № ТЦП (№ п/п)</label> &nbsp&nbsp
<input type="text" name="ppsearch">
<input type="submit" value="Найти" >
</form> &nbsp&nbsp&nbsp|&nbsp&nbsp&nbsp<a th:href="@{/priceItems}">Показать все пункты ТЦП</a>
 <br><br>
<form th:action="@{/findByName}" th:method="get" style="display:inline;">
<label>Поиск по Наименованию работы</label> &nbsp&nbsp
<input type="text" name="workname">
<input type="submit" value="Найти" >
</form> <br><br>
<form th:action="@{/showCart}" th:method="get" style="display:inline;">
<label>Корзина Заказа</label> &nbsp&nbsp
<input type="submit" value="Перейти" >
</form> &nbsp | &nbsp
<form th:action="@{/clearCart2}" method="get" style="display:inline;">
<input type="submit" name="submit" value="Очистить корзину">
</form>
<br><br>
<table class="listItems">
<tr>
<th>Добавить в Корзину</th><th>№ п/п</th><th>Наименование работ</th><th>Ед. изм.</th>
<th>Цена за ед., руб. без НДС</th><th>Описание позиции</th><th>Редактирование ТЦП (admin)</th>
</tr>
<tr th:each="listitem: ${listitems}">
<td>
<form th:action="@{/addInOrder}" method="get" style="display:inline;">
<input type="hidden" name="id" th:value="${listitem.getId}">
<input type="number" name="quantity" min="1" required>
<input type="submit" name="submit" value="+ в Корзину">
</form>
</td>
<td th:text="${listitem.getPpNumber}"></td><td th:text="${listitem.getWorkName}"></td><td th:text="${listitem.getUnitMeasure}"></td>
<td th:text="${listitem.getPrice}"></td><td th:text="${listitem.getComment}"></td>
<td>
<form th:action="@{/admin/itemEditForm}" method="get" style="display:inline;">
<input type="hidden" name="id" th:value="${listitem.getId}">
<input type="submit" name="submit" value="Редактировать">
</form> |
<form th:action="@{/admin/itemDelete}" method="get" style="display:inline;">
<input type="hidden" name="id" th:value="${listitem.getId}">
<input type="submit" name="submit" value="Удалить">
</form>
</td>
</tr>
</table>

<div th:replace="footer :: footer"></div>
</body>
</html>